<Window x:Class="Crosshair10.MainWindow"
        ResizeMode="NoResize"
        WindowStyle="None"
        Background="DarkOrange"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Crosshair10"
        mc:Ignorable="d"
        Title="CrossHairDuck" Height="800" Width="500">
    <Border Background="#292929"
            BorderThickness="6">

        <Grid Margin="0,4,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="78*"/>
                <ColumnDefinition Width="313*"/>
                <ColumnDefinition Width="97*"/>
            </Grid.ColumnDefinitions>

            <Border Background="#3A3A3A"
                    Grid.Row="0"
                    MouseDown="HeaderBar_MouseDown"
                    Margin="-7,-11,-7,753" 
                    Grid.ColumnSpan="3"/>

            <StackPanel Grid.ColumnSpan="3"
                        Orientation="Vertical"
                        Margin="10,36,10,0"
                        VerticalAlignment="Top" Height="636">

                <TextBlock Text="Crosshair Size" Foreground="DarkOrange"/>
                <Slider x:Name="SizeSlider"
                        Minimum="0"
                        Maximum="200"
                        Value="60"
                        ValueChanged="CrosshairSettingsChanged"/>

                <TextBlock Text="Thickness" Foreground="DarkOrange" Margin="0,10,0,0"/>
                <Slider x:Name="ThicknessSlider" 
                        Minimum="1"
                        Maximum="30"
                        Value="2"
                        ValueChanged="CrosshairSettingsChanged"/>
                <TextBlock Text="Gap" Foreground="DarkOrange" Margin="0,10,0,0"/>

                <Slider x:Name="GapSlider"
                        Minimum="0"
                        Maximum="40"
                        Value="5"
                        ValueChanged="CrosshairSettingsChanged"/>

                <CheckBox x:Name="OutlineEnabledCheckBox"
                          Content="Enable black outline"
                          IsChecked="True"
                          Foreground="DarkOrange"
                          Margin="0,4,0,0"
                          Checked="CrosshairSettingsChanged"
                          Unchecked="CrosshairSettingsChanged"/>

                <!-- ✅ Outline thickness -->
                <TextBlock Text="Outline Thickness" Foreground="DarkOrange" Margin="0,10,0,0"/>
                <Slider x:Name="OutlineThicknessSlider"
                        Minimum="1"
                        Maximum="10"
                        Value="2"
                        IsEnabled="{Binding IsChecked, ElementName=OutlineEnabledCheckBox}"
                        ValueChanged="CrosshairSettingsChanged"/>

                <TextBlock Text="Color" Foreground="DarkOrange" Margin="0,10,0,0"/>
                <ComboBox x:Name="ColorCombo" Foreground="DarkOrange"
              Width="120"
              SelectionChanged="CrosshairSettingsChanged">
                    <ComboBoxItem Content="Red"   Tag="Red"   IsSelected="True"/>
                    <ComboBoxItem Content="Green" Tag="Lime"/>
                    <ComboBoxItem Content="Cyan"  Tag="Cyan"/>
                    <ComboBoxItem Content="Black"  Tag="Black"/>
                    <ComboBoxItem Content="Purple"  Tag="Purple"/>
                    <ComboBoxItem Content="Yellow"  Tag="Yellow"/>
                    <ComboBoxItem Content="Pink"  Tag="Pink"/>
                </ComboBox>

                <!-- Optional: name text box -->
                <TextBox x:Name="PresetNameTextBox"
                         Margin="8,8,8,0"
                         Height="28"
                         VerticalContentAlignment="Center"
                         ToolTip="Preset name (optional)"
                         Background="#3A3A3A"
                         Foreground="DarkOrange"/>

                <!-- Save current crosshair -->
                <Button x:Name="BtnSavePreset"
                        Margin="8,8,8,12"
                        Height="32"
                        Content="Save crosshair"
                        Click="BtnSavePreset_Click"
                        Foreground="DarkOrange"
                        Background="#3A3A3A"/>

                <!-- Presets gallery -->
                <ItemsControl x:Name="PresetsList"
                              ItemsSource="{Binding Presets}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Margin="17" Width="200" Height="120"
                                    Background="#1a1a1a" CornerRadius="8">
                                <Grid>

                                    <!-- 1) Apply button UNDER everything else -->
                                    <Button Background="#00000000"
                                            BorderThickness="0"
                                            FocusVisualStyle="{x:Null}"
                                            Tag="{Binding}"
                                            Click="PresetApply_Click"
                                            Panel.ZIndex="0"/>  

                                    <!-- Tiny preview -->
                                    <Canvas Width="64" Height="64"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Panel.ZIndex="1">
                                        <Rectangle Height="{Binding Thickness}"
                                                   Width="{Binding Size}"
                                                   Fill="{Binding ColorHex}"
                                                   Canvas.Left="0" Canvas.Top="32"/>    
                                        <Rectangle Width="{Binding Thickness}"
                                                   Height="{Binding Size}"
                                                   Fill="{Binding ColorHex}"
                                                   Canvas.Left="32" Canvas.Top="0"/>
                                    </Canvas>

                                    <!-- Name band -->
                                    <Border Background="#262626"
                                            Height="30"
                                            VerticalAlignment="Bottom"
                                            Panel.ZIndex="1">
                                        <TextBlock Text="{Binding Name}"
                                                   Foreground="#cfe3ff"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"/>
                                    </Border>

                                    <!-- 2) Trash button ABOVE everything -->
                                    <Button Content="🗑"
                                            Width="28" Height="28"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Top"
                                            Margin="6"
                                            Background="#303030"
                                            Foreground="White"
                                            BorderThickness="0"
                                            FocusVisualStyle="{x:Null}"
                                            Tag="{Binding}"
                                            Click="PresetDelete_Click"
                                            Panel.ZIndex="10"/>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>

                </ItemsControl>

            </StackPanel>

            <Button x:Name="BtnClose" Margin="61,-6,0,758" Grid.Column="2" Click="BtnClose_Click" Background="DarkOrange" Content="X"/>

            <Button x:Name="BtnMinimise" Margin="20,-6,41,758" Grid.Column="2" Click="BtnMinimise_Click" Background="DarkOrange" FontSize="20" Content="-"/>
            

            <Button x:Name="BtnShowoverlay" Content="Toggle crosshair" Margin="12,700,277,10" Click="ShowOverlay_Click" Grid.ColumnSpan="2" Foreground="DarkOrange" Background="#3A3A3A"/>


            <TextBlock Text="Crosshair Duck"
                       VerticalAlignment="Top"
                       HorizontalAlignment="Left"
                       Foreground="White"
                       FontSize="22" Grid.ColumnSpan="2" Height="32" Width="147" Margin="0,-6,0,0"/>
            <Image Source="/Media/Psyduck1.png" Grid.ColumnSpan="2" Margin="226,465,-40,-131" Grid.Column="1"/>
        </Grid>







    </Border>
</Window>
